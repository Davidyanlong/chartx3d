<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="user-scalable=no, width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1, maximum-scale=1" />
    <title>xChart demo -- bar</title>
    <script type="text/javascript" src="../../lib/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="../../dist/chartx.js"></script>

</head>

<body>

    <div id="target" style="position:absolute;left:0;top:0;z-index:100;width:50px;height:50px;border: 1px solid red;color:black">测试鼠标位置</div>

    <div class="test-c">
        <div id="canvasTest" style='width:100%;height:600px;position:relative;'></div>
    </div>

    <button onclick="run()">运行</button>
    <button onclick="destroy()">销毁</button>


</body>

</html>

<script>

    let run = function () {
        //chart的数据格式，xChart中所有的图表数据格式都是这样的二维数组，
        //第一行是表头。
        var data = [
            ["xfield", "uv", "pv", "click", "ppc"],
            [1, 40, 20, 33, 45],
            [2, 60, 51, 26, 76],
            [3, 80, 50, 50, 45],
            [4, 100, 60, 33, 64],
            [5, 120, 91, 126, 22],
            [6, 20, 50, 90, 45],
            [7, 20, 120, 33, 78],
            [8, 20, 51, 86, 234],
            [9, 20, 90, 150, 63]

        ];
        var options = {
            //theme : [],
            controls: {

                boxWidth: 1500,         //空间中X的最大值(最大宽度)  
                boxHeight: 1000,        //空间中Y的最大值(最大高度)  
                boxDepth: 500,         //空间中Z的最大值(最大深度)

                distance: 900,        //默认相机距离
                maxDistance: 5000,     //最大相机距离
                minDistance: 300,      //最小相机距离 

                alpha: 20,    //绕X轴旋转
                beta: 40,      //绕Y轴旋转
            },
            tips:{
                enabled:true
            },
            coord: {
                type: "cartesian3d",
                xAxis: {
                    field: "xfield",
                    title: {
                        content: "xAxis"
                    },
                    label: {
                        textAlign: "center",
                        format: function (val) {
                            return val;
                            // return val%2==0? "x\nodfdfdfdfsdfo":val;
                        }
                    }

                    //dataSection : [1,3,5,7,9]
                },
                zAxis: {
                   // enabled: false,
                    // field : "ppc",
                    //depth: 1000,
                    title: {
                        content: "zAxis"
                    },
                    label: {
                        textAlign: "left",
                        format: function (val) {
                            return val;
                            //return "x\nodfdfdfdfsdfo"
                        }
                    },

                   // dataSection: ['页面访问数']
                },
                yAxis: [
                    {
                       // min:0,
                       name:'uv',
                        title: {
                            content: "left"
                        },
                        // dataSection : [0,100,200,300,400,500,600,700,800],
                        label: {
                            //textAlign: 'left',
                            format: function (val) {
                                // return val%3==0? "测试文本对齐":val;
                            }
                        }
                    }
                ]
            },

            // tips : {
            //     pointer : "region"
            // },
            graphs: [

                // {
                //     type : "bar",
                //     field : ["uv","click"],
                //     yAxisAlign : "left",
                //     label : {
                //         enabled : true
                //     }
                //},
                {
                    type: "bar",
                    field: [['uv','click']],
                    yAxisName:'uv',
                    label: {
                        enabled: true,
                        verticalAlign: "middle",
                        position: "center",
                        fontColor: "#fff",
                        lineWidth: 2,
                        rotation: -90
                    }
                },
                {
                    type: "bar",
                    field: ['pv'],
                    yAxisName:'uv',
                    label: {
                        enabled: true,
                        verticalAlign: "middle",
                        position: "center",
                        fontColor: "#fff",
                        lineWidth: 2,
                        rotation: -90
                    }
                }

            ]

        };
        window.bar = Chartx.create("canvasTest", data, options)

    }

    run();

    function destroy() {
        bar.dispose();
    }

</script>